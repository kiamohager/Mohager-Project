<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Single Page Apps for GitHub Pages</title>
        <script type="text/javascript">
            const pathSegmentsToKeep = 0;
            const l = window.location;

            let correctedPath = l.pathname.slice(1).split("/").slice(pathSegmentsToKeep).join("/");
            correctedPath = correctedPath.replace(/&code=/, "?code=");
            correctedPath = correctedPath.replace(/&/g, "~and~");

            l.replace(
                l.protocol +
                    "//" +
                    l.hostname +
                    (l.port ? ":" + l.port : "") +
                    l.pathname
                        .split("/")
                        .slice(0, 1 + pathSegmentsToKeep)
                        .join("/") +
                    "/?/" +
                    correctedPath +
                    (l.search ? "?" + l.search.slice(1).replace(/&/g, "~and~") : "") +
                    l.hash
            );
        </script>
    </head>
    <body></body>
</html>
